function toTitleCase(a){return null!==a&&void 0!==a?a.replace(/(?:^|\s)\w/g,function(a){return a.toUpperCase()}):""}function filterJobs(){var a=toTitleCase($(".job-filter-location").attr("data-attr"));if($(".job-filter-location").attr("data-attr")){$("tbody tr").removeClass("isActive"),$(".job-filter-location select").val(a).niceSelect("update");var e=$("tbody tr");$(e).find("td[data-location*="+a+"]").each(function(){$(this).parent("tr").addClass("isActive")}),e.hasClass("isActive")||$(".job-table").find(".not-found").addClass("show").append("<p>No jobs found in "+a+"</p>")}$(".job-filter-location select").change(function(){$(".job-table").removeClass("empty").find(".not-found").removeClass("show").empty(),$("tbody tr").removeClass("isActive"),$(".job-filter-category select").val("all").niceSelect("update"),filterByLocation($(this).val())}),$(".job-filter-category select").change(function(){$(".job-table").removeClass("empty").find(".not-found").removeClass("show").empty(),$("tbody tr").removeClass("isActive"),$(".job-filter-location select").val("all").niceSelect("update"),filterByCategory($(this).val())})}function filterByLocation(a){var e=$("tbody tr");"all"===a?$(e).find("td").each(function(){$(this).parent("tr").addClass("isActive")}):$(e).find("td[data-location*="+a+"]").each(function(){$(this).parent("tr").addClass("isActive")}),e.hasClass("isActive")||$(".job-table").removeClass("empty").addClass("empty").find(".not-found").addClass("show").append("<p>No jobs found in "+a+"</p>")}function filterByCategory(a){var e=$("tbody tr");if("all"===a)$(e).find("td").each(function(){$(this).parent("tr").addClass("isActive")});else{var t=a.replace(/ /g,"").toLowerCase();$(e).find("td[data-discipline*="+t+"]").each(function(){$(this).parent("tr").addClass("isActive")})}e.hasClass("isActive")||$(".job-table").find(".not-found").addClass("show").append("<p>No jobs found in "+a+"</p>")}function initMap(){if($("body").hasClass("main-body-contact-us"))for(var a={center:{lat:51.5046803,lng:-.1746135},scrollwheel:!1,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0},e=[],t=0;t<mapJsonData.locations.length;t++){a.center={lat:mapJsonData.locations[t].lat,lng:mapJsonData.locations[t].lng};var o=document.createElement("div");o.setAttribute("id","map-"+t),o.className="map",document.getElementById("maps-wrapper").appendChild(o),e[t]=new google.maps.Map(o,a);new google.maps.Marker({position:{lat:mapJsonData.locations[t].lat,lng:mapJsonData.locations[t].lng},title:mapJsonData.locations[t].title,map:e[t]});$(".inner-map").each(function(){var a=$(this).attr("data-map");$(this).appendTo("#"+a)})}}function InjectHeroScripts(){$(document).ready(function(){var a=$("#header_hero").height(),e=a/2+200;null!=a&&($(window).scroll(function(){$(window).scrollTop()>a-e?$(".navbar").hasClass("navbar-color")||($(".navbar").removeClass("navbar-transparent").addClass("navbar-color"),$(".main-body- .navbar").addClass("stick")):$(".navbar").hasClass("navbar-transparent")||($(".navbar").removeClass("navbar-color").addClass("navbar-transparent"),$(".main-body- .navbar").removeClass("stick"))}),$(".mouse-scroll").attr("href","#main"));var t=$("html, body");$(".mouse-scroll").click(function(){return t.animate({scrollTop:$($(this).attr("href")).offset().top-79},1e3),!1})})}function InjectHeaderCaptionScripts(){$(document).ready(function(){$(window).scroll(function(){var a=$("#header").height(),e="hdfade";null==a&&(a=$("#header_hero").height(),e="overlay hdfade");var t=$(window).scrollTop(),o=a-t;if(o>0){var n=$(".hdfade"),s=100;if(0===t)n.removeClass(),n.addClass(e).addClass("hdfade-"+s);else{var i=a/2+400;if(o<=i){var l=100-(i-o)/300*100;s=l<=0?0:l<=20?20:l<=40?40:l<=60?60:l<=80?80:100,n.removeClass(),n.addClass(e).addClass("hdfade-"+s)}}}var r=$(".twitter-container");null!=r&&(0===t?r.hasClass("fadeIn")||r.removeClass("fadeOut").addClass("fadeIn"):r.hasClass("fadeOut")||r.removeClass("fadeIn").addClass("fadeOut"))})})}function InjectMagnificPopup(){$(".zoom-gallery").magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(a){return a.el.attr("title")}},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(a){return a.find("img")}}})}function playVideo(a){var e=$("#"+a)[0];void 0!=e&&(e.pause(),e.currentTime=0,setTimeout(function(){e.play()},150))}function pauseVideo(a){var e=$("#"+a)[0];void 0!=e&&e.pause()}$(document).ready(function(){(new WOW).init(),InjectMagnificPopup(),InjectHeroScripts(),InjectHeaderCaptionScripts(),$("select").niceSelect();var a=$(".fadeIn, .textpage-simple-content, .fadeMe"),e=$(window);e.on("scroll resize",function(){var t=e.height(),o=e.scrollTop(),n=o+t;$.each(a,function(){var a=$(this),e=a.outerHeight(),t=a.offset().top;t+e>=o&&t<=n?(a.removeClass("hide_me"),a.addClass("show_me"),$(".nobg").each(function(){$(this).find(".fadeMe").hasClass("show_me")?($(this).find(".bg-img").addClass("blur-effect"),$(this).find(".overlay-effect").addClass("overlay-on"),$(".lower-text-section .content").addClass("show_me")):($(this).find(".bg-img").removeClass("blur-effect"),$(this).find(".overlay-effect").removeClass("overlay-on"))})):(a.addClass("hide_me"),$(".nobg").removeClass("ovrlay"))})}),$(".play-overlay").on("click",function(a){a.preventDefault(),$(this).siblings(".play-btn").hide(),$("#yt-video")[0].src+="&autoplay=1",$(this).hide()})}),filterJobs();var mapJsonData={locations:[{title:"Reykjavik",lat:64.153153,lng:-21.949341},{title:"Shanghai",lat:31.233746,lng:121.443235},{title:"London",lat:51.51125,lng:-.121775}]};$(document).ready(function(){$("#btn-nav-expand").on("click",function(){$(".collapse").addClass("mobile-active"),$(".collapse").removeClass("mobile-inactive"),$(".collapse").attr("aria-expanded",!0)}),$("#btn-nav-collapse").on("click",function(){$(".collapse").addClass("mobile-inactive"),$(".collapse").removeClass("mobile-active"),$(".collapse").attr("aria-expanded",!1)})});